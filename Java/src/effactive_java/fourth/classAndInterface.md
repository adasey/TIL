### 클래스와 인터페이스

#### item 15 : 클래스와 멤버의 접근 권한을 최소화하라

정보 은닉을 통해 패키지 간의 간섭 없이 API를 통해서만 동작하도록 한다.

#### 정보 은닉의 장점을 구체적으로 제시해본다.
- 시스템 개발 속도가 높아진다. 여러 컴포넌트를 병렬로 개발할 수 있기 때문이다.
- 시스템 관리 비용을 낮춘다. 각 컴포넌트를 더 빨리 파악해 디버깅할 수 있고, 다른 컴포넌트로의 교체도 부담이 적다.
- 성능 최적화에 도움을 준다. 최적화할 컴포넌트만 골라 해당 컴포넌트에 대한 최적화만 진행하면 된다.
- 소프트웨어 재사용성을 높인다.
- 큰 시스템의 제작 난이도를 낮춘다.
---
자바의 정보 은닉을 위한 장치 - 접근 제어 메커니즘 : 클래스, 인터페이스, 멤버의 접근성을 접근 제한자를 통해 명시.

#### 접근 제한자에 대한 설명
- private : 멤버를 선언한 톱레벨 클래스에서만 접근가능
- package-private : 멤버가 소속된 패키지 안의 모든 클래스에서 접근할 수 있음
- protected : package-private의 접근 범위를 포함, 이 멤버를 선언한 클래스의 하위 클래스에서 접근 가능
- public : 모든 곳에서 접근

클래스의 공개 API에서 private으로 만든 후 public으로 전환하는 일이 자주 생길 경우 이는 컴포넌트를 좀 더 분리해야 할 것이다.

#### 맴버 접근성을 좁히지 못하는 경우
하위 클래스에서 상위 클래스의 메서드를 재정의할 때 그 접근 수준을 상위 클래스에 비해 좁게 설정할 수 없다.
리스코프 치환 원칙에 위배 되기 때문이다. 이 규칙에 따라 상위 클래스의 인스턴스는 하위 클래스의 인스턴스로 대체될 수 있어야 하는데,
만약 접근 수준이 이보다 좁아진다면 컴파일 할 때 오류가 발생한다. 단 클래스가 인터페이스를 구현하는 경우 메서드를 전부 public으로 선언해야 하므로
특별한 경우라고 할 수 있다.

##### 만약 테스트를 해야한다면?
이때는 테스트 만을 위해 public 내의 private을 전부 public으로 바꿀 수는 없다. 그렇다면 테스트 코드를 테스트 대상 코드와 같은 위치에 두고 
package-private 형으로 바꿀 경우 접근이 가능하다.

#### public 클래스의 인스턴스 필드
되도록 public이 아니어야하는데, 필드가 가변 객체를 참조하거나 final이 아닌 인스턴스 필드를 public으로 선언하는 경우 그 필드에 담을 수 있는 값을
제한할 힘을 잃기 때문에 그 필드와 관련된 모든 불변식을 보장할 수 없게 된다는 뜻이다. 필드가 수정될 경우 예를 들면 락 획득과 같은 작업을 할 수 없기
때문에 public 가변 필드를 갖는 클래스는 일반적으로 스레드 안전하지 않다.

단 예외도 있는데, 정적 필드의 경우 반드시 필요한 구성요소로의 상수라면 public static final 필드로 공개해도 된다. (대문자 알파벳, 단어간 _ 넣기)
이럴 경우 반드시 기본 타입 값 (int, boolean, String - new String("")이 아닌 ""만 사용할 경우)이거나 불변 객체를 참조해야 한다.
가변 객체를 참조할 경우 매우 끔찍한 불이익을 그대로 갖게 되니 주의하자.

길이가 0이 아닌 배열은 모두 변경이 가능하기 때문에 주의해야 한다. 그렇기 때문에 반드시 클래스에서 public static final 배열 필드를 두거나
이 필드를 반환하는 접근자 메서드를 제공해서는 안 된다.

#### 모듈 시스템
자바 9부터 추가된 개념으로 두가지 암묵적인 접근 수준이 추가되었다. 패키지는 클래스의 묶음이라면 모듈은 패키지의 묶음이다.
이 모듈은 자신에 속하는 패키지 중에 공개할 것들을 선언 (관례상 module-info.java)
protected, public 멤버라도 해당 패키지를 공개하지 않았다면 모듈 외부에서 접근할 수 없다.

이때 모듈에 새롭게 적용되는 두 접근 수준은 주의해 사용해야 한다. 모듈의 JAR 파일을 자신의 모듈 경로가 아닌 애플리케이션의 클래스패스 내에 둘 경우
그 모듈 안의 모든 패키지는 마치 모듈이 없는 것처럼 행동한다. 이를 적용한 예가 JDK 자체이다. 자바 라이브러리에서 공개하지 않은 패키지들은 해당 모듈 밖에서
절대로 접근 할 수 없다.

##### 아직까지는 주의를 기울여 사용해야 하는 모듈이라는 개념은 당장 사용하기에는 위험할 수도 있다.